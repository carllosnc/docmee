---
layout: ../../layout/main-layout.astro
---
<a href="/javascript">← Javascript</a> <br /> <br />

# JavaScript: for-in vs for-of Loops

## Overview

JavaScript provides two similar-looking but fundamentally different loop constructs: `for-in` and `for-of`. Understanding their differences is crucial for writing effective JavaScript code.

## for-in Loop

The `for-in` loop iterates over **enumerable properties** of an object, including inherited properties from the prototype chain.

### Syntax
```javascript
for (variable in object) {
  // code block
}
```

### What it iterates over
- **Object properties**: Property names (keys)
- **Array indices**: Index positions as strings
- **Inherited properties**: Properties from the prototype chain

### Examples

#### With Objects
```javascript
const person = {
  name: 'Alice',
  age: 30,
  city: 'New York'
};

for (let key in person) {
  console.log(key + ': ' + person[key]);
}
// Output:
// name: Alice
// age: 30
// city: New York
```

#### With Arrays (Not Recommended)
```javascript
const fruits = ['apple', 'banana', 'orange'];

for (let index in fruits) {
  console.log(index + ': ' + fruits[index]);
}
// Output:
// 0: apple
// 1: banana
// 2: orange
```

#### Potential Issues with Arrays
```javascript
const arr = ['a', 'b', 'c'];
arr.customProperty = 'custom';

for (let key in arr) {
  console.log(key, arr[key]);
}
// Output:
// 0 a
// 1 b
// 2 c
// customProperty custom  // ← This might not be desired!
```

## for-of Loop

The `for-of` loop iterates over **iterable objects**, accessing the actual values rather than keys or indices.

### Syntax
```javascript
for (variable of iterable) {
  // code block
}
```

### What it works with
- Arrays
- Strings
- Maps
- Sets
- NodeLists
- Arguments object
- Any object that implements the iterable protocol

### Examples

#### With Arrays
```javascript
const fruits = ['apple', 'banana', 'orange'];

for (let fruit of fruits) {
  console.log(fruit);
}
// Output:
// apple
// banana
// orange
```

#### With Strings
```javascript
const word = 'hello';

for (let char of word) {
  console.log(char);
}
// Output:
// h
// e
// l
// l
// o
```

#### With Maps
```javascript
const map = new Map([
  ['name', 'Alice'],
  ['age', 30],
  ['city', 'New York']
]);

for (let [key, value] of map) {
  console.log(key + ': ' + value);
}
// Output:
// name: Alice
// age: 30
// city: New York
```

#### With Sets
```javascript
const uniqueNumbers = new Set([1, 2, 3, 3, 4]);

for (let number of uniqueNumbers) {
  console.log(number);
}
// Output:
// 1
// 2
// 3
// 4
```

## Key Differences

| Aspect | for-in | for-of |
|--------|---------|---------|
| **Iterates over** | Enumerable properties (keys) | Iterable values |
| **Returns** | Property names/indices as strings | Actual values |
| **Best used with** | Objects | Arrays, strings, iterables |
| **Includes inherited properties** | Yes | No |
| **Works with arrays** | Yes, but not recommended | Yes, recommended |
| **Works with objects** | Yes, primary use case | No (unless iterable) |

## When to Use Which

### Use for-in when:
- Iterating over object properties
- You need to access property names/keys
- Working with plain objects (not arrays)
- Debugging object structure

```javascript
const config = {
  apiUrl: 'https://api.example.com',
  timeout: 5000,
  retries: 3
};

for (let setting in config) {
  console.log(`${setting}: ${config[setting]}`);
}
```

### Use for-of when:
- Iterating over arrays
- Working with strings character by character
- Iterating over Maps, Sets, or other iterables
- You need the actual values, not indices/keys

```javascript
const numbers = [1, 2, 3, 4, 5];

// Calculate sum
let sum = 0;
for (let num of numbers) {
  sum += num;
}
console.log(sum); // 15
```

## Common Pitfalls

### 1. Using for-in with Arrays
```javascript
// ❌ Problematic
const arr = [10, 20, 30];
for (let i in arr) {
  console.log(typeof i); // "string" - indices are strings!
}

// ✅ Better
const arr = [10, 20, 30];
for (let value of arr) {
  console.log(typeof value); // "number"
}
```

### 2. Using for-of with Objects
```javascript
const obj = { a: 1, b: 2 };

// ❌ This will throw an error
try {
  for (let value of obj) {
    console.log(value);
  }
} catch (error) {
  console.log('Error: obj is not iterable');
}

// ✅ Use for-in instead
for (let key in obj) {
  console.log(key, obj[key]);
}

// ✅ Or use Object methods with for-of
for (let [key, value] of Object.entries(obj)) {
  console.log(key, value);
}
```

### 3. Prototype Chain Issues with for-in
```javascript
function Person(name) {
  this.name = name;
}
Person.prototype.greet = function() {
  return `Hello, I'm ${this.name}`;
};

const john = new Person('John');

// ❌ Includes inherited properties
for (let prop in john) {
  console.log(prop); // Logs both 'name' and 'greet'
}

// ✅ Filter out inherited properties
for (let prop in john) {
  if (john.hasOwnProperty(prop)) {
    console.log(prop); // Only logs 'name'
  }
}
```

## Modern Alternatives

### Object.keys(), Object.values(), Object.entries()
```javascript
const person = { name: 'Alice', age: 30 };

// Get keys
for (let key of Object.keys(person)) {
  console.log(key);
}

// Get values
for (let value of Object.values(person)) {
  console.log(value);
}

// Get key-value pairs
for (let [key, value] of Object.entries(person)) {
  console.log(key, value);
}
```

### Array Methods
```javascript
const numbers = [1, 2, 3, 4, 5];

// Modern functional approaches
numbers.forEach(num => console.log(num));
const doubled = numbers.map(num => num * 2);
const evens = numbers.filter(num => num % 2 === 0);
```

## Summary

- **for-in**: Use for iterating over object properties (keys)
- **for-of**: Use for iterating over iterable values (arrays, strings, etc.)
- Avoid `for-in` with arrays unless you specifically need indices as strings
- `for-of` cannot be used directly with plain objects
- Consider modern alternatives like `Object.entries()`, `Array.forEach()`, etc.

Understanding these differences will help you write more predictable and maintainable JavaScript code.