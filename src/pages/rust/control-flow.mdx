---
layout: ../../layout/main-layout.astro
---
<a href="/rust">‚Üê Rust</a> <br /> <br />

# Control Flow in Rust

This guide covers how to manage the execution path of your code using conditional logic and loops.

## `if` Expressions

An `if` expression allows you to branch your code depending on conditions.

**Example 1: Simple `if-else`**
```rust
fn main() {
    let number = 7;

    // Check if the number is less than 10
    if number < 10 {
        println!("Condition was true");
    } else {
        println!("Condition was false");
    }
}
```

**Example 2: Handling Multiple Conditions with `else if`**
```rust
fn main() {
    let number = 6;

    // Check for divisibility
    if number % 4 == 0 {
        println!("Number is divisible by 4");
    } else if number % 3 == 0 {
        println!("Number is divisible by 3");
    } else if number % 2 == 0 {
        println!("Number is divisible by 2");
    } else {
        println!("Number is not divisible by 4, 3, or 2");
    }
}
```

**Example 3: Using `if` in a `let` Statement**
```rust
fn main() {
    let condition = true;
    // `if` is an expression, so it can return a value
    let number = if condition { 5 } else { 6 };

    println!("The value of number is: {}", number);
}
```

**Example 4: `if` with `match` (for more complex branching)**
```rust
fn main() {
    let favorite_color = "blue";

    let is_favorite = match favorite_color {
        "blue" => true,
        "red" => true,
        _ => false,
    };

    if is_favorite {
        println!("Your favorite color is blue or red!");
    } else {
        println!("Your favorite color is something else.");
    }
}
```

## Loops

Loops allow you to execute a block of code more than once. Rust has three kinds of loops: `loop`, `while`, and `for`.

### `loop`

The `loop` keyword tells Rust to execute a block of code over and over again forever or until you explicitly tell it to stop.

**Example 1: Infinite Loop with `break`**
```rust
fn main() {
    let mut counter = 0;

    loop {
        counter += 1;
        println!("Again!");

        // Stop the loop when the counter reaches 5
        if counter == 5 {
            break;
        }
    }
}
```

**Example 2: Nested Loops with Labels**
```rust
fn main() {
    let mut count = 0;
    'outer: loop {
        println!("Outer loop");
        'inner: loop {
            println!("Inner loop");
            if count >= 10 {
                break 'inner;
            }
            count += 1;
        }
        println!("Exited inner loop");
        break 'outer;
    }
    println!("Exited outer loop. Final count: {}", count);
}
```

**Example 3: Returning Values from Loops**
```rust
fn main() {
    let mut counter = 0;

    // Assign the loop's return value to a variable
    let result = loop {
        counter += 1;

        if counter == 10 {
            // Return a value from the loop
            break counter * 2;
        }
    };

    println!("The result is {}", result);
}
```

### `while` Loops

A `while` loop evaluates a condition and continues to execute as long as the condition remains true.

**Example 1: Simple `while` Loop**
```rust
fn main() {
    let mut number = 3;

    // Loop as long as number is not 0
    while number != 0 {
        println!("{}!", number);
        number -= 1;
    }

    println!("LIFTOFF!!!");
}
```

**Example 2: `while let` (for conditional pattern matching in loops)**
```rust
fn main() {
    let mut optional_number = Some(0);

    while let Some(i) = optional_number {
        if i > 2 { // Changed from 9 to 2 for a shorter example output
            println!("Greater than 2, quit!");
            optional_number = None;
        } else {
            println!("i is: {}", i);
            optional_number = Some(i + 1);
        }
    }
}
```

### `for` Loops

A `for` loop is used to iterate over a collection, such as an array.

**Example 1: Looping Through an Array**
```rust
fn main() {
    let a = [10, 20, 30, 40, 50];

    // `for` iterates over each element in the collection
    for element in a.iter() {
        println!("The value is: {}", element);
    }
}
```

**Example 2: Looping Through a Range**
```rust
fn main() {
    // A range from 1 up to (but not including) 4
    for number in 1..4 {
        println!("{}!", number);
    }
    println!("LIFTOFF!!!");
}
```

**Example 3: Using a Reversed Range**
```rust
fn main() {
    // Use `.rev()` to reverse the range
    for number in (1..4).rev() {
        println!("{}!", number);
    }
    println!("LIFTOFF!!!");
}
```
