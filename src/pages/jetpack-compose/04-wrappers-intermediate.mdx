---
layout: ../../layout/main-layout.astro
---
<a href="/jetpack-compose">← Jetpack Compose </a> <br /> <br />

# Intermediate: Scaffold

Scaffold provides the basic material design visual layout structure, implementing app bars, floating action buttons, drawers, and bottom sheets in a coordinated layout.

## Basic Scaffold Structure

```kotlin
@Composable
fun BasicScaffold() {
    Scaffold(
        topBar = {
            TopAppBar(title = { Text("My App") })
        },
        content = { paddingValues ->
            LazyColumn(
                modifier = Modifier.padding(paddingValues),
                contentPadding = PaddingValues(16.dp)
            ) {
                items(20) { index ->
                    Text("Item $index", modifier = Modifier.padding(8.dp))
                }
            }
        }
    )
}
```

Essential pattern: Always use `paddingValues` from content lambda to avoid overlapping with system UI.

## Scaffold with FAB

```kotlin
@Composable
fun ScaffoldWithFAB() {
    var count by remember { mutableStateOf(0) }
    
    Scaffold(
        topBar = {
            TopAppBar(title = { Text("Counter: $count") })
        },
        floatingActionButton = {
            FloatingActionButton(
                onClick = { count++ }
            ) {
                Icon(Icons.Default.Add, contentDescription = "Add")
            }
        },
        floatingActionButtonPosition = FabPosition.End
    ) { paddingValues ->
        Box(
            modifier = Modifier
                .fillMaxSize()
                .padding(paddingValues),
            contentAlignment = Alignment.Center
        ) {
            Text("Tap the FAB to increment: $count")
        }
    }
}
```

FAB positions: `FabPosition.End` (default), `FabPosition.Center`, `FabPosition.Start`

## Bottom Navigation Bar

```kotlin
@Composable
fun ScaffoldWithBottomNav() {
    var selectedItem by remember { mutableStateOf(0) }
    val items = listOf("Home", "Search", "Profile")
    val icons = listOf(Icons.Default.Home, Icons.Default.Search, Icons.Default.Person)
    
    Scaffold(
        bottomBar = {
            BottomNavigation {
                items.forEachIndexed { index, item ->
                    BottomNavigationItem(
                        icon = { Icon(icons[index], contentDescription = null) },
                        label = { Text(item) },
                        selected = selectedItem == index,
                        onClick = { selectedItem = index }
                    )
                }
            }
        }
    ) { paddingValues ->
        Box(
            modifier = Modifier
                .fillMaxSize()
                .padding(paddingValues),
            contentAlignment = Alignment.Center
        ) {
            Text("Selected: ${items[selectedItem]}")
        }
    }
}
```

BottomNavigation automatically handles material design specs and animations.

## Navigation Drawer

```kotlin
@Composable
fun ScaffoldWithDrawer() {
    val drawerState = rememberDrawerState(DrawerValue.Closed)
    val scope = rememberCoroutineScope()
    
    ModalNavigationDrawer(
        drawerState = drawerState,
        drawerContent = {
            ModalDrawerSheet {
                Text("Drawer Header", modifier = Modifier.padding(16.dp))
                Divider()
                NavigationDrawerItem(
                    label = { Text("Item 1") },
                    selected = false,
                    onClick = { 
                        scope.launch { drawerState.close() }
                    }
                )
                NavigationDrawerItem(
                    label = { Text("Item 2") },
                    selected = false,
                    onClick = { 
                        scope.launch { drawerState.close() }
                    }
                )
            }
        }
    ) {
        Scaffold(
            topBar = {
                TopAppBar(
                    title = { Text("Drawer Example") },
                    navigationIcon = {
                        IconButton(
                            onClick = {
                                scope.launch { drawerState.open() }
                            }
                        ) {
                            Icon(Icons.Default.Menu, contentDescription = "Menu")
                        }
                    }
                )
            }
        ) { paddingValues ->
            Box(
                modifier = Modifier
                    .fillMaxSize()
                    .padding(paddingValues),
                contentAlignment = Alignment.Center
            ) {
                Text("Swipe or tap menu to open drawer")
            }
        }
    }
}
```

Use `ModalNavigationDrawer` wrapper around Scaffold for drawer functionality.

## Snackbar Integration

```kotlin
@Composable
fun ScaffoldWithSnackbar() {
    val snackbarHostState = remember { SnackbarHostState() }
    val scope = rememberCoroutineScope()
    
    Scaffold(
        snackbarHost = {
            SnackbarHost(hostState = snackbarHostState)
        },
        floatingActionButton = {
            FloatingActionButton(
                onClick = {
                    scope.launch {
                        snackbarHostState.showSnackbar("Hello Snackbar!")
                    }
                }
            ) {
                Icon(Icons.Default.Notifications, contentDescription = "Show Snackbar")
            }
        }
    ) { paddingValues ->
        Box(
            modifier = Modifier
                .fillMaxSize()
                .padding(paddingValues),
            contentAlignment = Alignment.Center
        ) {
            Text("Tap FAB to show Snackbar")
        }
    }
}
```

Snackbars automatically position themselves above FAB and bottom bars.

## Complete Example with All Components

```kotlin
@Composable
fun FullScaffoldExample() {
    var selectedTab by remember { mutableStateOf(0) }
    val snackbarHostState = remember { SnackbarHostState() }
    val scope = rememberCoroutineScope()
    
    Scaffold(
        topBar = {
            TopAppBar(
                title = { Text("Full Example") },
                actions = {
                    IconButton(onClick = {}) {
                        Icon(Icons.Default.Search, contentDescription = "Search")
                    }
                    IconButton(onClick = {}) {
                        Icon(Icons.Default.MoreVert, contentDescription = "More")
                    }
                }
            )
        },
        bottomBar = {
            BottomNavigation {
                listOf("Home", "Favorites", "Settings").forEachIndexed { index, title ->
                    BottomNavigationItem(
                        icon = { 
                            Icon(
                                when(index) {
                                    0 -> Icons.Default.Home
                                    1 -> Icons.Default.Favorite
                                    else -> Icons.Default.Settings
                                }, 
                                contentDescription = null
                            ) 
                        },
                        label = { Text(title) },
                        selected = selectedTab == index,
                        onClick = { selectedTab = index }
                    )
                }
            }
        },
        floatingActionButton = {
            FloatingActionButton(
                onClick = {
                    scope.launch {
                        snackbarHostState.showSnackbar(
                            message = "Action performed!",
                            actionLabel = "Undo"
                        )
                    }
                }
            ) {
                Icon(Icons.Default.Add, contentDescription = "Add")
            }
        },
        snackbarHost = { SnackbarHost(snackbarHostState) }
    ) { paddingValues ->
        LazyColumn(
            modifier = Modifier.padding(paddingValues),
            contentPadding = PaddingValues(16.dp)
        ) {
            item {
                Text(
                    "Current tab: ${listOf("Home", "Favorites", "Settings")[selectedTab]}",
                    style = MaterialTheme.typography.headlineSmall,
                    modifier = Modifier.padding(bottom = 16.dp)
                )
            }
            items(50) { index ->
                Card(
                    modifier = Modifier
                        .fillMaxWidth()
                        .padding(vertical = 4.dp)
                ) {
                    Text(
                        "List Item $index",
                        modifier = Modifier.padding(16.dp)
                    )
                }
            }
        }
    }
}
```

## Key Points

- **Always use `paddingValues`** in content lambda to respect system UI
- **`rememberCoroutineScope()`** for triggering drawer/snackbar actions
- **Scaffold handles positioning** automatically (FAB above bottom bar, etc.)
- **Compose in order**: drawer wrapper → scaffold → content
- **State hoisting**: manage drawer/snackbar state in parent composable